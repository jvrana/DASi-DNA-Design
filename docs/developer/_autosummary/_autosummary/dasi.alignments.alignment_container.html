<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>dasi.alignments.alignment_container &#8212; dasi 0.0.1 documentation</title>
    <link rel="stylesheet" href="../../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="dasi.cost" href="../dasi.cost.html" />
    <link rel="prev" title="dasi.alignments.alignment" href="dasi.alignments.alignment.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../../../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../../../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../../../_static/bootstrap-sphinx.js "></script>

  </head><body>
    


  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../../index.html">
          DASi</a>
        <span class="navbar-text navbar-version pull-left"><b>0.0.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../../index.html">DASi <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../api_reference.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../api_reference.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="dasi.alignments.alignment.html" title="Previous Chapter: dasi.alignments.alignment"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; dasi.alignmen...</span>
    </a>
  </li>
  <li>
    <a href="../dasi.cost.html" title="Next Chapter: dasi.cost"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">dasi.cost &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../../../_sources/developer/_autosummary/_autosummary/dasi.alignments.alignment_container.rst"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <div class="section" id="module-dasi.alignments.alignment_container">
<span id="dasi-alignments-alignment-container"></span><h1>dasi.alignments.alignment_container<a class="headerlink" href="#module-dasi.alignments.alignment_container" title="Permalink to this headline">¶</a></h1>
<p>Alignment container</p>
<p class="rubric">Functions</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dasi.alignments.alignment_container.blast_to_region" title="dasi.alignments.alignment_container.blast_to_region"><code class="xref py py-obj docutils literal notranslate"><span class="pre">blast_to_region</span></code></a>(query_or_subject, seqdb)</p></td>
<td><p>Converts a blast data result to a Region.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Classes</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dasi.alignments.alignment_container.AlignmentContainer" title="dasi.alignments.alignment_container.AlignmentContainer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AlignmentContainer</span></code></a>(seqdb[, alignments])</p></td>
<td><p>Container for a set of query-to-subject alignments for a single query.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dasi.alignments.alignment_container.AlignmentContainerFactory" title="dasi.alignments.alignment_container.AlignmentContainerFactory"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AlignmentContainerFactory</span></code></a>(seqdb)</p></td>
<td><p>Class that maintains a shared list of alignments and shared sequence database.</p></td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="dasi.alignments.alignment_container.AlignmentContainer">
<em class="property">class </em><code class="sig-prename descclassname">dasi.alignments.alignment_container.</code><code class="sig-name descname">AlignmentContainer</code><span class="sig-paren">(</span><em class="sig-param">seqdb: Dict[str, Bio.SeqRecord.SeqRecord], alignments=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dasi/alignments/alignment_container.html#AlignmentContainer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dasi.alignments.alignment_container.AlignmentContainer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Sized</span></code></p>
<p>Container for a set of query-to-subject alignments for a single query.</p>
<dl class="simple">
<dt>Instance Attributes/Properties:</dt><dd><dl class="simple">
<dt>alignments  list of alignments for the container</dt><dd><p>List[Alignment]</p>
</dd>
<dt>seqdb       key to SeqRecord dictionary</dt><dd><p>Dict[str, SeqRecord]</p>
</dd>
<dt>logger      the instance’s logger</dt><dd><p>Loggable</p>
</dd>
</dl>
</dd>
<dt>This class contains:</dt><dd><ol class="arabic simple">
<li><p>Methods grouping alignments together according to those</p></li>
</ol>
</dd>
<dt>alignments that share the same starting and ending points.</dt><dd><ol class="arabic simple" start="2">
<li><p>Methods for ‘expanding’ alignments</p></li>
</ol>
</dd>
</dl>
<dl class="method">
<dt id="dasi.alignments.alignment_container.AlignmentContainer._alignment_hash">
<em class="property">static </em><code class="sig-name descname">_alignment_hash</code><span class="sig-paren">(</span><em class="sig-param">a</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dasi/alignments/alignment_container.html#AlignmentContainer._alignment_hash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dasi.alignments.alignment_container.AlignmentContainer._alignment_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>A hashable representation of an alignment for grouping.</p>
</dd></dl>

<dl class="method">
<dt id="dasi.alignments.alignment_container.AlignmentContainer._new_grouping_tag">
<em class="property">classmethod </em><code class="sig-name descname">_new_grouping_tag</code><span class="sig-paren">(</span><em class="sig-param">alignments</em>, <em class="sig-param">type: str</em>, <em class="sig-param">key=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dasi/alignments/alignment_container.html#AlignmentContainer._new_grouping_tag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dasi.alignments.alignment_container.AlignmentContainer._new_grouping_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a new ordered grouping by type and a uuid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>alignments</strong> – </p></li>
<li><p><strong>type</strong> – </p></li>
<li><p><strong>key</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="dasi.alignments.alignment_container.AlignmentContainer.expand">
<code class="sig-name descname">expand</code><span class="sig-paren">(</span><em class="sig-param">expand_overlaps=True</em>, <em class="sig-param">expand_primers=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dasi/alignments/alignment_container.html#AlignmentContainer.expand"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dasi.alignments.alignment_container.AlignmentContainer.expand" title="Permalink to this definition">¶</a></dt>
<dd><p>Expand the number of alignments in this container using overlaps or primers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expand_overlaps</strong> – </p></li>
<li><p><strong>expand_primers</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="dasi.alignments.alignment_container.AlignmentContainer.expand_overlaps">
<code class="sig-name descname">expand_overlaps</code><span class="sig-paren">(</span><em class="sig-param">alignment_groups: List[dasi.alignments.alignment.AlignmentGroup], type='PCR_PRODUCT'</em><span class="sig-paren">)</span> &#x2192; List[dasi.alignments.alignment.Alignment]<a class="reference internal" href="../../../_modules/dasi/alignments/alignment_container.html#AlignmentContainer.expand_overlaps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dasi.alignments.alignment_container.AlignmentContainer.expand_overlaps" title="Permalink to this definition">¶</a></dt>
<dd><p>Expand the list of alignments from existing regions. Produces new fragments in
the following three situations:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>|--------|          alignment 1
    |--------|      alignment 2
|---|               new alignment


|--------|          alignment 1
     |--------|     alignment 2
     |---|          new alignment


|--------|          alignment 1
     |--------|     alignment 2
         |----|     new alignment
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>alignment_groups</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="dasi.alignments.alignment_container.AlignmentContainer.expand_primer_pairs">
<code class="sig-name descname">expand_primer_pairs</code><span class="sig-paren">(</span><em class="sig-param">alignment_groups: List[dasi.alignments.alignment.AlignmentGroup]</em><span class="sig-paren">)</span> &#x2192; List[dasi.alignments.alignment.Alignment]<a class="reference internal" href="../../../_modules/dasi/alignments/alignment_container.html#AlignmentContainer.expand_primer_pairs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dasi.alignments.alignment_container.AlignmentContainer.expand_primer_pairs" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates new alignments for all possible primer pairs. Searches for fwd and
rev primer pairs that exist within other alignments and produces all combinations
of alignments that can form from these primer pairs.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="dasi.alignments.alignment_container.AlignmentContainer.freeze">
<code class="sig-name descname">freeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dasi/alignments/alignment_container.html#AlignmentContainer.freeze"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dasi.alignments.alignment_container.AlignmentContainer.freeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Freeze the container, disallowing further modifications to alignments</p>
</dd></dl>

<dl class="method">
<dt id="dasi.alignments.alignment_container.AlignmentContainer.get_groups_by_types">
<code class="sig-name descname">get_groups_by_types</code><span class="sig-paren">(</span><em class="sig-param">types: List[str]</em><span class="sig-paren">)</span> &#x2192; List[dasi.alignments.alignment.AlignmentGroup]<a class="reference internal" href="../../../_modules/dasi/alignments/alignment_container.html#AlignmentContainer.get_groups_by_types"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dasi.alignments.alignment_container.AlignmentContainer.get_groups_by_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Return AlignmentGroups by fragment type</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>types</strong> – list of types</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="dasi.alignments.alignment_container.AlignmentContainer.groups_by_type">
<em class="property">property </em><code class="sig-name descname">groups_by_type</code><a class="headerlink" href="#dasi.alignments.alignment_container.AlignmentContainer.groups_by_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Return alignment groups according to their alignment ‘type’</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="dasi.alignments.alignment_container.AlignmentContainer.redundent_alignment_groups">
<em class="property">classmethod </em><code class="sig-name descname">redundent_alignment_groups</code><span class="sig-paren">(</span><em class="sig-param">alignments: List[dasi.alignments.alignment.Alignment]</em><span class="sig-paren">)</span> &#x2192; List[dasi.alignments.alignment.AlignmentGroup]<a class="reference internal" href="../../../_modules/dasi/alignments/alignment_container.html#AlignmentContainer.redundent_alignment_groups"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dasi.alignments.alignment_container.AlignmentContainer.redundent_alignment_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Return AlignmentGroups that have been grouped by alignment_hash</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>alignments</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="dasi.alignments.alignment_container.AlignmentContainer.types">
<em class="property">property </em><code class="sig-name descname">types</code><a class="headerlink" href="#dasi.alignments.alignment_container.AlignmentContainer.types" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all valid types.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="dasi.alignments.alignment_container.AlignmentContainer.unfreeze">
<code class="sig-name descname">unfreeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dasi/alignments/alignment_container.html#AlignmentContainer.unfreeze"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dasi.alignments.alignment_container.AlignmentContainer.unfreeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Unfreeze the container, allowing modifications to alignments</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dasi.alignments.alignment_container.AlignmentContainerFactory">
<em class="property">class </em><code class="sig-prename descclassname">dasi.alignments.alignment_container.</code><code class="sig-name descname">AlignmentContainerFactory</code><span class="sig-paren">(</span><em class="sig-param">seqdb: Dict[str, Bio.SeqRecord.SeqRecord]</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dasi/alignments/alignment_container.html#AlignmentContainerFactory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dasi.alignments.alignment_container.AlignmentContainerFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class that maintains a shared list of alignments and shared sequence database.</p>
<p>AlignmentContainers can be retrieved in a dict grouped by their query via <cite>.containers()</cite></p>
<dl class="method">
<dt id="dasi.alignments.alignment_container.AlignmentContainerFactory.load_blast_json">
<code class="sig-name descname">load_blast_json</code><span class="sig-paren">(</span><em class="sig-param">data: List[Dict], type: str</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dasi/alignments/alignment_container.html#AlignmentContainerFactory.load_blast_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dasi.alignments.alignment_container.AlignmentContainerFactory.load_blast_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Create alignments from a formatted BLAST JSON result.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – formatted BLAST JSON result</p></li>
<li><p><strong>type</strong> – the type of alignment to initialize</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="dasi.alignments.alignment_container.blast_to_region">
<code class="sig-prename descclassname">dasi.alignments.alignment_container.</code><code class="sig-name descname">blast_to_region</code><span class="sig-paren">(</span><em class="sig-param">query_or_subject</em>, <em class="sig-param">seqdb</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/dasi/alignments/alignment_container.html#blast_to_region"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dasi.alignments.alignment_container.blast_to_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a blast data result to a Region. Blast
results are indicated by two positions with index starting
at 1 and positions being inclusive. This returns a Region
with index starting at 0 and the end point position being
exclusive.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query_or_subject</strong> – </p></li>
<li><p><strong>seqdb</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017-2019, University of Washington.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.0.<br/>
    </p>
  </div>
</footer>
  </body>
</html>